# Slope Tiles Generation

Генерирует тайлы угла уклона для района Красной Поляны
в формате **PMTiles** с цветовой схемой CalTopo.

## Цветовая схема (лавинная палитра)

| Угол | Цвет | Опасность |
|------|------|-----------|
| < 27° | прозрачно | безопасно |
| 27–30° | белый | начало |
| 30–34° | зелёный | умеренная |
| 34–38° | жёлтый | повышенная |
| 38–45° | оранжевый → красный | **критическая** |
| 45–50° | фиолетовый | очень крутой |
| 50°+ | синий | экстремальный |

## Требования

- **Docker** (GDAL устанавливается внутри контейнера автоматически)
- Интернет для скачивания SRTM данных (~30 MB)

## Запуск

```bash
chmod +x scripts/generate-slope-tiles.sh
./scripts/generate-slope-tiles.sh
```

Время работы: **3–8 минут** (зависит от скорости интернета).
Результат: `public/slope.pmtiles` (~15–40 MB).

## Подключение в приложении

После генерации файл `public/slope.pmtiles` будет автоматически
использован слоем `addSlopeAngleLayer` через протокол `pmtiles://`.

```ts
// src/map/addSlopeAngleLayer.ts уже настроен — просто запустите скрипт
```

## Обновление данных

SRTM данные обновляются редко — достаточно сгенерировать один раз.
При изменении bbox или zoom-уровней перезапустите скрипт.

## Источник данных

- **SRTM GL1** (30 м/пиксель) от NASA через OpenTopography
- Лицензия: public domain
- Покрытие: глобальное (60°S – 60°N)
